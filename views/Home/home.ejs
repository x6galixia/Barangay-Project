<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/global/general.css">
  <link rel="stylesheet" href="../css/local/home.css">
  <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
  <title>
    <%= title %>
  </title>
</head>

<body>
  <%- include("../includes/header.ejs") %>
    <main class="mainContainer">
      <div class="heading">Service Request Form</div>
      <input type="text" id="qrInput" required style="opacity: 0; position: fixed; transform: translate(-50%, -50%),;">
      <form action="/home/service-request-form" method="POST" class="requestForm">
        <input type="hidden" id="qrOutput" name="id" style="position: absolute;">
        <!-- <div class="scanSwitch">
          Scan QR
          <label class="switch">
            <input type="checkbox" id="scanSwitch">
            <span class="slider round"></span>
          </label>
        </div> -->
        <div class="formInputContainer">
          <div>
            <div class="inputWithLabel">
              <label for="">Last Name</label>
              <input type="text" id="lastname" readonly>
            </div>
            <div class="inputWithLabel">
              <label for="">First Name</label>
              <input type="text" id="firstname" readonly>
            </div>
            <div class="inputWithLabel">
              <label for="">Middle Name</label>
              <input type="text" id="middlename" readonly>
            </div>
            <div class="inputWithLabel">
              <label for="">Age</label>
              <input type="number" id="age" readonly>
            </div>
            <div class="inputWithLabel">
              <label for="">Birthday</label>
              <input type="date" id="birthdate" readonly>
            </div>
          </div>
          <div>
            <div class="inputWithLabel">
              <label for="">Birthplace</label>
              <input type="text" id="birthplace" readonly>
            </div>
            <div class="inputWithLabel">
              <label for="">Civil Status</label>
              <input type="text" id="civilStatus" readonly>
            </div>
            <div class="inputWithLabel">
              <label for="">Purok</label>
              <input type="text" id="purok" readonly>
            </div>
            <div class="inputWithLabel">
              <label for="">Gross Income</label>
              <input type="text" id="grossIncome" readonly>
            </div>
            <div class="inputWithLabel">
              <label for="">Purpose</label>
              <select class="services-dropdown" name="purpose">
                <option value=" default" disabled selected>
                  Select a Services
                </option>
                <option value="Brgy. Clearance">Brgy. Clearance</option>
                <option value="Building Clearance">Building Clearance</option>
                <option value="Burial Certificate">Burial Certificate</option>
                <option value="Business Clearance">Business Clearance</option>
                <option value="Business Closure">Business Closure</option>
                <option value="Good Moral">Good Moral</option>
                <option value="Guardianship">Guardianship</option>
                <option value="Income">Income</option>
                <option value="Indigency">Indigency</option>
                <option value="Land no claim">Land no claim</option>
                <option value="Late Registration">Late Registration</option>
                <option value="No Duplication">No Duplication</option>
                <option value="Panumduman">Panumduman</option>
                <option value="RA 11261">RA 11261</option>
                <option value="Residency">Residency</option>
                <option value="Same Person">Same Person</option>
                <option value="Singleness">Singleness</option>
                <option value="Solo Parent">Solo Parent</option>
              </select>
            </div>
          </div>
        </div>

        <button>SUBMIT</button>
      </form>

      <% if (messages.success) { %>
        <div class="overlay"></div>
        <div class="alert alert-success" id="submit_prompt">
          <img src="../images/success-img.png" alt="">
          <div>
            <h2>Reuqest Submitted Successfully</h2>
            <p>
              <%= messages.success %>
            </p>
            <main>
              <button type="button" class="button-green" onclick="closePopup()">Done</button>
            </main>
          </div>
        </div>
        <% } %>
          <% if (messages.error) { %>
            <div class="alert alert-danger" id="submit_prompt">
              <img src="../images/error.png" alt="">
              <div>
                <h2>Request Submit Failled.</h2>
                <p class="error-message">
                  <%= messages.error %>
                </p>
                <main>
                  <button type="button" class="button-green" onclick="closePopup()">Done</button>
                </main>
              </div>
            </div>
            <% } %>
    </main>
</body>
<script src="../../js/local/request-api.js"></script>
<script src="../../js/global/pop-up.js"></script>
<script>
  document.querySelector("header>nav>ul>li:first-child").classList.toggle("selected");
</script>

</html>