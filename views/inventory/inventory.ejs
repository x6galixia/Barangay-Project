<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/global/general.css">
    <link rel="stylesheet" href="../css/local/inventory.css">
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
    <title>
        <%= title %>
    </title>
</head>

<body>
    <%- include("../includes/header.ejs") %>
        <main class="mainContainer">
            <div class="heading" id="inventoryPageTitle">Inventory</div>
            <div class="tableActionOne">
                <input type="search" id="searchInput" placeholder="Search">
                <select class="inventory-dropdown" id="inventory-dropdown" name="inventory">
                    <option value="functional">Functional</option>
                    <option value="non-functional">Non-Functional</option>
                </select>
            </div>
            <div class="tableContainer">
                <table>
                    <thead>
                        <tr>
                            <th>ITEM NAME</th>
                            <th>QUANTITY</th>
                            <th>DATE ADDED</th>
                            <th>PRICE</th>
                            <th>ACTION</th>
                        </tr>
                    </thead>
                    <tbody id="inventoryTableBody"></tbody>
                </table>
            </div>
            <nav aria-label="Page navigation" id="paginationNav">
                <!-- <a href="" aria-label="Previous Page">Previous</a>
                <a href="" aria-label="Next Page">Next</a> -->
            </nav>
            <button class="addingForTable" id="add-inventory-button" onclick="popUp_button(this)">
                ADD ITEM
            </button>
        </main>
        <!-- Pop Up -->
        <!-- Add Inbentory -->

        <div class="pop-up" id="add-inventory">
            <div class="close-container">
                <img src="../icon/close.svg" alt="" class="close_popUp">
            </div>
            <h1 class="heading">ADD ITEM</h1>
            <main>
                <form action="/inventory/dashboard/add-item" method="POST">
                    <input type="number" id="itemId" name="itemId" hidden>
                    <div class="add-inventory-input-container">
                        <div class="row">
                            <div class="inputWithLabel" id="surubadan">
                                <label>Item Name</label>
                                <input id="iName" type="text" aria-label="Item Name" name="iName" required>
                            </div>
                            <div class="inputWithLabel">
                                <label>Category Name</label>
                                <input id="categoryName" type="text" aria-label="Category Name" name="categoryName"
                                    required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="inputWithLabel" id="masubad">
                                <label>Functional/Non-FUnctional</label>
                                <select name="isFunctional" aria-label="Functional/Non-FUnctional" id="isFunctional"
                                    required>
                                    <option value="true">Functional</option>
                                    <option value="false">Non-Functional</option>
                                </select>
                            </div>
                            <div class="inputWithLabel">
                                <label>Date Added</label>
                                <input id="dateAdded" type="date" aria-label="Date Added" name="dateAdded" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="inputWithLabel">
                                <label>Quantity</label>
                                <input id="quantity" type="number" aria-label="Quantity" name="quantity" required>
                            </div>
                            <div class="inputWithLabel">
                                <label>Price</label>
                                <input id="iPrice" type="number" aria-label="Price" name="iPrice" required>
                            </div>
                        </div>
                    </div>
                    <button type="submit" id="submit_add_inbentory">SUBMIT</button>
                </form>
            </main>
        </div>

        <!-- Delete -->
        <div class="pop-up-confirm" id="delete-inventory">
            <div>
                <div class="reject-heading">
                    <img src="../icon/warning.svg" alt="">
                    <h2>Deleting an Item will <br>
                        automatically delete from the list</h2>
                </div>
                <main>
                    <h2>Are sure you want to delete this Item?</h2>
                    <div>
                        <button type="button" id="cancel-delete" class="button-bordered close_popUp1">No</button>
                        <button type="button" id="confirm-delete" class="button-bordered">Yes</button>
                    </div>
                </main>
            </div>
        </div>

        <% if (messages.success) { %>
            <div class="overlay"></div>
            <div class="alert alert-success" id="submit_prompt">
                <img src="../images/success-img.png" alt="">
                <div>
                    <h2>
                        <%= messages.success %>
                    </h2>
                    <main>
                        <button type="button" class="button-green" onclick="closePopup()">Ok</button>
                    </main>
                </div>
            </div>
            <% } %>
</body>
<script src="../../js/global/pop-up.js"></script>
<script src="../../js/local/inventory/inventory-api.js"></script>
<script>
    document.querySelector("header>nav>ul>li:nth-child(4)").classList.toggle("selected");
</script>

</html>