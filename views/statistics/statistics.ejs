<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/global/general.css">
    <link rel="stylesheet" href="../css/local/statistics.css">
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>
        <%= title %>
    </title>
</head>

<body>
    <%- include("../includes/header.ejs") %>

        <div class="container">
            <h2>Resident Sectors</h2>
            <div id="meow">
                <div class="chart">
                    <canvas id="barangayPopulationChart1"></canvas>
                </div>
                <div class="separate">
                    <div>
                        <div id="classificationByPurokDetails"></div>
                        <div id="overallPopulation1"></div>
                    </div>
                    <div id="totalClassificationDetails"></div>
                </div>
            </div>

            <h2>Residents Classification</h2>
            <div id="meow">
                <div class="chart">
                    <canvas id="barangayPopulationChart"></canvas>
                </div>
                <div class="separate">
                    <div id="totalsByPurokDetails"></div>
                    <div id="overallPopulation"></div>
                </div>
            </div>

            <h2>Resident Status</h2>
            <div id="meow">
                <div class="chart">
                    <canvas id="statusChart"></canvas>
                </div>
                <div class="separate">
                    <div id="residentStatusText"></div>
                </div>
            </div>

            <h2>Age Demographics</h2>
            <div id="meow">
                <div class="chart">
                    <canvas id="ageDemographicsChart"></canvas>
                </div>
                <div class="separate">
                    <div id="ageDemographicsText"></div>
                </div>
            </div>

            <div style="display: flex; align-items: center; justify-content: space-between; margin: 20px 3%;">
                <h2>Household Classification</h2>
                <button id="add-survey-button" onclick="popUp_button(this)">ADD SURVEY</button>
            </div>
            <div id="meow">
                <div class="chart">
                    <canvas id="householdClassificationChart"></canvas>
                </div>
                <div class="separate">
                    <div id="householdClassificationText"></div>
                </div>
            </div>

        </div>
        <div class="pop-up" id="add-survey">

            <div class="close-container">
                <img src="../icon/close.svg" alt="" class="close_popUp">
            </div>
            <h1 class="heading">HOUSE CLASSIFICATION</h1>
            <main>
                <form id="formToAddResident" action="/statistics/house-classification-survey" method="POST">
                    <div class="add-survey-input-container">
                        <div class="row">
                            <div class="inputWithLabel">
                                <label>House Number (Optional)</label>
                                <input type="number" aria-label="House Number (Optional)" name="houseNumber" min="1">
                            </div>
                            <div class="inputWithLabel" id="surubadan">
                                <label>House Representative</label>
                                <input type="text" aria-label="House Representative" name="houseRepresentative" required>
                            </div>
                            <div class="inputWithLabel">
                                <label>Number of Families</label>
                                <input type="number" aria-label="Number of Families" name="numberOfFamilies" min="1" required>
                            </div>
                            <div class="inputWithLabel" id="masubad">
                                <label>With CR</label>
                                <select name="isWithCr" aria-label="With CR" required>
                                    <option value="true">Yes</option>
                                    <option value="false">No</option>
                                </select>
                            </div>
                            <div class="inputWithLabel" id="masubad">
                                <label>With 40m Zone</label>
                                <select name="isWith40mZone" aria-label="With 40m Zone" required>
                                    <option value="true">Yes</option>
                                    <option value="false">No</option>
                                </select>
                            </div>
                            <div class="inputWithLabel" id="masubad">
                                <label>Energized</label>
                                <select name="isEnergized" aria-label="Energized" required>
                                    <option value="true">Yes</option>
                                    <option value="false">No</option>
                                </select>
                            </div>
                            <div class="inputWithLabel" id="masubad">
                                <label>Housing Materials</label>
                                <select name="housingMaterials" aria-label="Housing Materials" required>
                                    <option value="Concrete">Concrete</option>
                                    <option value="Semi-Concrete">Semi-Concrete</option>
                                    <option value="Wood">Wood</option>
                                </select>
                            </div>
                            <div class="inputWithLabel" id="masubad">
                                <label>Water Sources</label>
                                <div style="display: flex; gap: 12px;">
                                    <label style="display: flex; align-items: center; gap: 6px;">
                                        <input type="checkbox" name="deepWell" value="Deep Well">
                                        Deep Well
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 6px;">
                                        <input type="checkbox" name="waterPump" value="Water Pump">
                                        Water Pump
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 6px;">
                                        <input type="checkbox" name="mineral" value="Mineral">
                                        Mineral
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button type="submit" id="submit_add_survey" style="display: flex; margin-left: auto;">SUBMIT</button>
                </form>                
            </main>
        </div>

</body>
<script src="../../js/global/pop-up.js"></script>
<script src="../../js/local/statistics/statistics-api.js"></script>
<script>
    document.querySelector("header>nav>ul>li:nth-child(6)").classList.toggle("selected");
</script>

</html>